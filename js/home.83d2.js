var CookieModel=Backbone.Model.extend({initialize:function(){this.fetch()},fetch:function(){this.set($.parseJSON($.cookie(this.id)))},save:function(a){this.set(a),$.cookie(this.id,JSON.stringify(this.toJSON()))},destroy:function(){$.removeCookie(this.id)},isEmpty:function(){return _.size(this.attributes)<=1}}),CookieBanner=Backbone.View.extend({events:{"click .close":"_onClickClose"},render:function(){return this.$el[this.model.isEmpty()?"show":"hide"](),this},_onClickClose:function(a){a.preventDefault(),this.$el.hide(),this.model.save({"merceria-alonso":!0})}}),Slider=Backbone.View.extend({});$(function(){var a=Backbone.View.extend({events:{"click a[href*=#]:not([href=#])":"_scrollTo","click .header-comp-nav":"_changeActive",click:"_removeActive"},initialize:function(a){this.options=a,this.model=new Backbone.Model({active:!1}),this.cookie=new CookieModel({id:"merceria-alonso"}),this._initViews(),this._initBinds()},_initViews:function(){var a=new CookieBanner({el:this.$(".cookie-banner"),model:this.cookie});a.render();var b=new Slider({el:this.$(".image-slider")});b.render()},_initBinds:function(){this.model.bind("change:active",this._onActiveChange,this)},_onActiveChange:function(){var a=this.model.get("active");this.$el[a?"addClass":"removeClass"]("active")},_changeActive:function(a){a&&(a.preventDefault(),a.stopPropagation()),this.model.set("active",!this.model.get("active"))},_removeActive:function(){this.model.set("active",!1)},_scrollTo:function(a){var b=$(a.target).attr("href");if(b&&0===b.search("#")&&-1===b.search("#/")){a&&(a.preventDefault(),a.stopPropagation());var c=$(b);if(c=c.length?c:this.$("[name="+b.slice(1)+"]"),c.length)return $("html,body").animate({scrollTop:c.offset().top},1e3),!1}}});window.home=new a({el:document.body})});